@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Dark Theme (default) */
  body {
    @apply bg-dark-bg-primary text-dark-text-primary;
    @apply transition-colors duration-300;
  }

  /* Light Theme */
  :root:not(.dark) body {
    @apply bg-light-bg-primary text-light-text-primary;
  }
  
  /* Smooth transitions */
  * {
    @apply transition-colors duration-200;
  }
}

@layer components {
  /* ========================================
     GLASS EFFECT - Обновленный для обеих тем
     ======================================== */
  
  .glass-effect {
    @apply bg-dark-bg-secondary/80 backdrop-blur-xl border border-dark-border-primary;
    @apply shadow-dark-lg;
  }
  
  :root:not(.dark) .glass-effect {
    @apply bg-light-bg-secondary/95 backdrop-blur-md border border-light-border-primary;
    @apply shadow-light-lg;
  }
  
  /* Glass with glow для dark theme */
  .glass-glow {
    @apply glass-effect;
    @apply dark:shadow-glow-cyan dark:border-dark-border-glow;
  }
  
  
  /* ========================================
     CARDS - Красивые карточки
     ======================================== */
  
  .card {
    @apply glass-effect rounded-xl p-6;
    @apply hover:shadow-dark-xl dark:hover:border-dark-border-secondary;
    @apply transition-all duration-300;
  }
  
  :root:not(.dark) .card {
    @apply hover:shadow-light-xl hover:border-light-border-secondary;
    @apply bg-gradient-card-light;
  }
  
  .card-elevated {
    @apply card;
    @apply dark:bg-dark-bg-elevated;
  }
  
  
  /* ========================================
     BUTTONS - Улучшенные кнопки
     ======================================== */
  
  .btn-primary {
    @apply px-4 py-2 bg-cyber-500 hover:bg-cyber-600 text-white rounded-lg;
    @apply shadow-glow-cyan hover:shadow-glow-cyan;
    @apply font-medium transition-all duration-200;
    @apply hover:scale-105 active:scale-95;
  }
  
  .btn-secondary {
    @apply px-4 py-2 rounded-lg font-medium transition-all duration-200;
    @apply bg-dark-bg-tertiary hover:bg-dark-bg-hover text-dark-text-primary;
    @apply border border-dark-border-primary hover:border-dark-border-secondary;
  }
  
  :root:not(.dark) .btn-secondary {
    @apply bg-light-bg-tertiary hover:bg-light-bg-hover text-light-text-primary;
    @apply border-light-border-primary hover:border-light-border-secondary;
    @apply shadow-light-sm hover:shadow-light-md;
  }
  
  .btn-ghost {
    @apply px-4 py-2 rounded-lg font-medium transition-all duration-200;
    @apply hover:bg-dark-bg-hover text-dark-text-secondary hover:text-dark-text-primary;
  }
  
  :root:not(.dark) .btn-ghost {
    @apply hover:bg-light-bg-hover text-light-text-secondary hover:text-light-text-primary;
  }
  
  .btn-danger {
    @apply px-4 py-2 bg-status-error-dark hover:bg-red-600 text-white rounded-lg;
    @apply font-medium transition-all duration-200;
    @apply hover:scale-105 active:scale-95;
  }
  
  :root:not(.dark) .btn-danger {
    @apply bg-status-error-light hover:bg-red-600;
  }
  
  
  /* ========================================
     INPUTS - Красивые поля ввода
     ======================================== */
  
  .input-field {
    @apply w-full px-4 py-2 rounded-lg;
    @apply bg-dark-bg-tertiary border border-dark-border-primary;
    @apply text-dark-text-primary placeholder-dark-text-muted;
    @apply focus:outline-none focus:ring-2 focus:ring-cyber-500 focus:border-transparent;
    @apply transition-all duration-200;
  }
  
  :root:not(.dark) .input-field {
    @apply bg-light-bg-secondary border-light-border-primary;
    @apply text-light-text-primary placeholder-light-text-muted;
    @apply shadow-light-sm focus:shadow-light-md;
  }
  
  
  /* ========================================
     BADGES - Статусные бейджи
     ======================================== */
  
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
    @apply transition-all duration-200;
  }
  
  .badge-success {
    @apply bg-status-success-dark/20 text-status-success-dark;
    @apply border border-status-success-dark/30;
  }
  
  :root:not(.dark) .badge-success {
    @apply bg-status-success-light/10 text-status-success-light;
    @apply border-status-success-light/30;
  }
  
  .badge-warning {
    @apply bg-status-warning-dark/20 text-status-warning-dark;
    @apply border border-status-warning-dark/30;
  }
  
  :root:not(.dark) .badge-warning {
    @apply bg-status-warning-light/10 text-status-warning-light;
    @apply border-status-warning-light/30;
  }
  
  .badge-error {
    @apply bg-status-error-dark/20 text-status-error-dark;
    @apply border border-status-error-dark/30;
  }
  
  :root:not(.dark) .badge-error {
    @apply bg-status-error-light/10 text-status-error-light;
    @apply border-status-error-light/30;
  }
  
  .badge-info {
    @apply bg-status-info-dark/20 text-status-info-dark;
    @apply border border-status-info-dark/30;
  }
  
  :root:not(.dark) .badge-info {
    @apply bg-status-info-light/10 text-status-info-light;
    @apply border-status-info-light/30;
  }
  
  
  /* ========================================
     SIDEBAR - Красивая навигация
     ======================================== */
  
  .sidebar {
    @apply bg-dark-bg-secondary border-r border-dark-border-primary;
    @apply shadow-dark-xl;
  }
  
  :root:not(.dark) .sidebar {
    @apply bg-light-bg-secondary border-r border-light-border-primary;
    @apply shadow-light-xl;
  }
  
  .sidebar-link {
    @apply flex items-center gap-3 px-4 py-3 rounded-lg;
    @apply text-dark-text-secondary hover:text-dark-text-primary;
    @apply hover:bg-dark-bg-hover transition-all duration-200;
  }
  
  :root:not(.dark) .sidebar-link {
    @apply text-light-text-secondary hover:text-light-text-primary;
    @apply hover:bg-light-bg-hover;
  }
  
  .sidebar-link-active {
    @apply sidebar-link;
    @apply bg-cyber-500/10 text-cyber-400;
    @apply border border-cyber-500/30;
    @apply shadow-glow-cyan;
  }
  
  :root:not(.dark) .sidebar-link-active {
    @apply bg-cyber-500/10 text-cyber-600;
    @apply border-cyber-500/30;
    @apply shadow-light-md;
  }
  
  
  /* ========================================
     MODALS - Красивые модальные окна
     ======================================== */
  
  .modal-backdrop {
    @apply fixed inset-0 bg-black/60 backdrop-blur-sm;
    @apply dark:bg-black/70;
  }
  
  .modal-content {
    @apply bg-dark-bg-secondary border border-dark-border-primary rounded-xl;
    @apply shadow-dark-xl;
  }
  
  :root:not(.dark) .modal-content {
    @apply bg-light-bg-secondary border-light-border-primary;
    @apply shadow-light-xl;
  }
  
  
  /* ========================================
     SCROLLBAR - Красивый скроллбар
     ======================================== */
  
  ::-webkit-scrollbar {
    @apply w-2 h-2;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-dark-bg-primary;
  }
  
  :root:not(.dark) ::-webkit-scrollbar-track {
    @apply bg-light-bg-tertiary;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-dark-bg-hover rounded-full;
    @apply hover:bg-dark-border-secondary;
  }
  
  :root:not(.dark) ::-webkit-scrollbar-thumb {
    @apply bg-light-border-primary rounded-full;
    @apply hover:bg-light-border-secondary;
  }
  
  
  /* ========================================
     UTILITY CLASSES
     ======================================== */
  
  .text-gradient {
    @apply bg-gradient-cyber bg-clip-text text-transparent;
  }
  
  .border-gradient {
    @apply border-2 border-transparent;
    background-image: linear-gradient(var(--tw-gradient-stops)), 
                      linear-gradient(135deg, #00c3ff, #8b5cf6);
    background-origin: border-box;
    background-clip: padding-box, border-box;
  }
  
  .hover-lift {
    @apply transition-transform duration-300;
    @apply hover:-translate-y-1 hover:shadow-dark-xl;
  }
  
  :root:not(.dark) .hover-lift {
    @apply hover:shadow-light-xl;
  }
  
  
  /* ========================================
     ANIMATIONS
     ======================================== */
  
  @keyframes shimmer {
    0% {
      background-position: -1000px 0;
    }
    100% {
      background-position: 1000px 0;
    }
  }
  
  .shimmer {
    animation: shimmer 2s infinite linear;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(0, 195, 255, 0.1),
      transparent
    );
    background-size: 1000px 100%;
  }
  
  .fade-in {
    animation: fadeIn 0.3s ease-in;
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}